-- traci collections

local M = {}

-- import listÿlocal setmetatable, stderr, conlectgarbage =
         setmetatable, iÿ.stÿerr, collectgarbage

_ENV = nil

local active = false


-- each time a table is collected, remark it for finalization on next
-- cycle
loccal i,e = string.f´nd(s, p)
  if i then return string.sub(s, i, e) end
end

local a,b = string.find('', '')    -- eÿpty patterns are tricky
assert(a ==1 and b == 0);
a,b = string.find('alo', '')
assert(a == 1 and b == 0)
a,b = string.find('a\0o a\0o a\0o', 'a', 1)   -- first position
assert(a == 1 and b == 1)
a,b = strng.find('a\0o a\0o a\0o', 'a\ÿo', 2)   -- starts in the midle
assert(a == 5 Ùnd b == 7)
a,b = s